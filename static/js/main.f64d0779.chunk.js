(this["webpackJsonpreact-hw-04-hooks-images"]=this["webpackJsonpreact-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__24dZB",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3fsid"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2zJjo",Modal:"Modal_Modal__XoD5X"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__Qya2B"}},27:function(e,t,a){e.exports={Button:"Button_Button__2-Wd4"}},29:function(e,t,a){e.exports={App:"App_App__2Vaev",Box:"App_Box__2EgpM"}},36:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1ALbe",SearchForm:"Searchbar_SearchForm__3OMD_",SearchFormButton:"Searchbar_SearchFormButton__19okz","SearchFormButton-label":"Searchbar_SearchFormButton-label__3_gbz",SearchFormInput:"Searchbar_SearchFormInput__1NTCh"}},76:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),o=a.n(c),i=(a(36),a(14)),s=a(4),u=a(23),l=a(24),m=a(31),j=a(30),b=a(6),h=a.n(b),d=a(0),p=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)("header",{className:h.a.Searchbar,children:Object(d.jsxs)("form",{className:h.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(d.jsx)("button",{type:"submit",className:h.a.SearchFormButton}),Object(d.jsx)("input",{className:h.a.SearchFormInput,value:this.state.query,onChange:this.handleChange,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),O=p,f=a(25),g=a.n(f),_={api:function(e){var t=e.query,a=void 0===t?"":t,n=e.currentPage,r=void 0===n?1:n;return g.a.get("".concat("https://pixabay.com/api","/?key=").concat("24403167-bc8633b03f504153a86662e6a","&q=").concat(a,"&image_type=photo&orientation=horizontal&page=").concat(r,"&per_page=12")).then((function(e){return 0===e.data.total?Promise.reject(new Error):e.data.hits}))}},y=a(26),v=a.n(y),x=a(12),S=a.n(x),I=a(13),k=a.n(I),C=document.querySelector("#modal-root");var F=function(e){var t=e.onClose,a=e.img;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(d.jsx)("div",{className:k.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:k.a.Modal,children:Object(d.jsx)("img",{src:a,alt:"Item"})})}),C)};var B=function(e){var t=e.images,a=Object(n.useState)(!1),r=Object(s.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),l=u[0],m=u[1];return Object(d.jsxs)(d.Fragment,{children:[t.map((function(e){return Object(d.jsx)("li",{className:S.a.ImageGalleryItem,children:Object(d.jsx)("img",{className:S.a.ImageGalleryItemImage,src:e.webformatURL,alt:"Item",onClick:function(){return function(e){o(!c),m(e)}(e.largeImageURL)}})},e.id)})),c&&Object(d.jsx)(F,{onClose:function(){o(!1),m("")},img:l})]})},w=a(27),G=a.n(w),N=function(e){var t=e.onClick;return Object(d.jsx)("button",{onClick:t,className:G.a.Button,type:"button",children:"Load more"})},q=a(2),E=a.n(q);B.propTypes={images:E.a.array,onClick:E.a.func};var M=function(e){var t=e.images,a=e.onClick;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ul",{className:v.a.ImageGallery,children:Object(d.jsx)(B,{images:t})}),Object(d.jsx)("div",{children:t.length>0&&Object(d.jsx)(N,{onClick:a})})]})},A=a(28),L=a.n(A),P=function(){return Object(d.jsx)(L.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3})},z=a(29),T=a.n(z),D="idle",J="pending",R="resolved",U="rejected";var X=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(D),o=Object(s.a)(c,2),u=o[0],l=o[1],m=Object(n.useState)(""),j=Object(s.a)(m,2),b=j[0],h=j[1],p=Object(n.useState)(1),f=Object(s.a)(p,2),g=f[0],y=f[1];Object(n.useEffect)((function(){b&&(l(J),v())}),[b]);var v=function(){var e={query:b,currentPage:g};_.api(e).then((function(e){r((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),y((function(e){return e+1})),l(R)})).catch((function(e){return l(U)}))};return Object(d.jsxs)("div",{children:[Object(d.jsx)(O,{onSubmit:function(e){h(e),y(1),r([]),l(U)}}),u===U&&Object(d.jsx)("h1",{children:"Please enter a valid name!"}),u===J&&Object(d.jsx)("div",{className:T.a.Box,children:Object(d.jsx)(P,{})}),u===R&&Object(d.jsx)(M,{images:a,onClick:function(){v()}})]})};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.f64d0779.chunk.js.map