(this["webpackJsonpreact-hw-04-hooks-images"]=this["webpackJsonpreact-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__24dZB",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3fsid"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2zJjo",Modal:"Modal_Modal__XoD5X"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__Qya2B"}},25:function(e,t,a){e.exports={Button:"Button_Button__2-Wd4"}},27:function(e,t,a){e.exports={App:"App_App__2Vaev",Box:"App_Box__2EgpM"}},32:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1ALbe",SearchForm:"Searchbar_SearchForm__3OMD_",SearchFormButton:"Searchbar_SearchFormButton__19okz","SearchFormButton-label":"Searchbar_SearchFormButton-label__3_gbz",SearchFormInput:"Searchbar_SearchFormInput__1NTCh"}},72:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),o=a.n(c),i=(a(32),a(14)),s=a(4),u=a(6),l=a.n(u),m=a(0);var j=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(m.jsx)("header",{className:l.a.Searchbar,children:Object(m.jsxs)("form",{className:l.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c),o("")},children:[Object(m.jsx)("button",{type:"submit",className:l.a.SearchFormButton}),Object(m.jsx)("input",{className:l.a.SearchFormInput,value:c,onChange:function(e){o(e.currentTarget.value)},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},b=a(23),h=a.n(b),d={api:function(e){var t=e.query,a=void 0===t?"":t,n=e.currentPage,r=void 0===n?1:n;return h.a.get("".concat("https://pixabay.com/api","/?key=").concat("24403167-bc8633b03f504153a86662e6a","&q=").concat(a,"&image_type=photo&orientation=horizontal&page=").concat(r,"&per_page=12")).then((function(e){return 0===e.data.total?Promise.reject(new Error):e.data.hits}))}},O=a(24),p=a.n(O),f=a(12),g=a.n(f),_=a(13),x=a.n(_),v=document.querySelector("#modal-root");var S=function(e){var t=e.onClose,a=e.img;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(m.jsx)("div",{className:x.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(m.jsx)("div",{className:x.a.Modal,children:Object(m.jsx)("img",{src:a,alt:"Item"})})}),v)};var y=function(e){var t=e.images,a=Object(n.useState)(!1),r=Object(s.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),l=u[0],j=u[1];return Object(m.jsxs)(m.Fragment,{children:[t.map((function(e){return Object(m.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(m.jsx)("img",{className:g.a.ImageGalleryItemImage,src:e.webformatURL,alt:"Item",onClick:function(){return function(e){o(!c),j(e)}(e.largeImageURL)}})},e.id)})),c&&Object(m.jsx)(S,{onClose:function(){o(!1),j("")},img:l})]})},I=a(25),F=a.n(I),k=function(e){var t=e.onClick;return Object(m.jsx)("button",{onClick:t,className:F.a.Button,type:"button",children:"Load more"})},B=a(2),C=a.n(B);y.propTypes={images:C.a.array,onClick:C.a.func};var w=function(e){var t=e.images,a=e.onClick;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:p.a.ImageGallery,children:Object(m.jsx)(y,{images:t})}),Object(m.jsx)("div",{children:t.length>0&&Object(m.jsx)(k,{onClick:a})})]})},G=a(26),N=a.n(G),E=function(){return Object(m.jsx)(N.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3})},M=a(27),L=a.n(M),A="idle",P="pending",q="resolved",z="rejected";var T=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(A),o=Object(s.a)(c,2),u=o[0],l=o[1],b=Object(n.useState)(""),h=Object(s.a)(b,2),O=h[0],p=h[1],f=Object(n.useState)(1),g=Object(s.a)(f,2),_=g[0],x=g[1];Object(n.useEffect)((function(){O&&(l(P),v())}),[O]);var v=function(){var e={query:O,currentPage:_};d.api(e).then((function(e){r((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),x((function(e){return e+1})),l(q)})).catch((function(e){return l(z)}))};return Object(m.jsxs)("div",{children:[Object(m.jsx)(j,{onSubmit:function(e){p(e),x(1),r([]),l(z)}}),u===z&&Object(m.jsx)("h1",{children:"Please enter a valid name!"}),u===P&&Object(m.jsx)("div",{className:L.a.Box,children:Object(m.jsx)(E,{})}),u===q&&Object(m.jsx)(w,{images:a,onClick:function(){v()}})]})};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.f7b275bc.chunk.js.map